(function(){"use strict";var t={844:function(t,e,o){var n=o(963),r=o(252);function s(t,e,o,n,s,i){const a=(0,r.up)("PostComponent");return(0,r.wg)(),(0,r.j4)(a)}var i=o(577);const a=t=>((0,r.dD)("data-v-3f836385"),t=t(),(0,r.Cn)(),t),c={class:"page-container"},l=a((()=>(0,r._)("div",{class:"topbar"},[(0,r._)("h1",null,"Blog Posts")],-1))),u={class:"container"},p={class:"create-post"},d=a((()=>(0,r._)("label",{for:"create-post"},[(0,r._)("strong",null,"Write a blog post: ")],-1))),f=a((()=>(0,r._)("hr",null,null,-1))),h={key:0,class:"error"},v={class:"posts-container"},g=["item","index","onDblclick"],P={class:"text"},w=a((()=>(0,r._)("br",null,null,-1))),b=["onClick"];function m(t,e,o,s,a,m){return(0,r.wg)(),(0,r.iD)("div",c,[l,(0,r._)("div",u,[(0,r._)("div",p,[d,(0,r.wy)((0,r._)("input",{type:"text",id:"create-post","onUpdate:modelValue":e[0]||(e[0]=t=>a.text=t),placeholder:"Write here..."},null,512),[[n.nr,a.text]]),(0,r._)("button",{onClick:e[1]||(e[1]=(...t)=>m.createPost&&m.createPost(...t))},"Post!")]),f,a.error?((0,r.wg)(),(0,r.iD)("p",h,(0,i.zw)(a.error),1)):(0,r.kq)("",!0),(0,r._)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.posts,((t,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"post",onMouseover:e[2]||(e[2]=t=>a.hover=!0),onMouseleave:e[3]||(e[3]=t=>a.hover=!1),item:t,index:o,key:t._id,onDblclick:e=>m.deletePost(t._id)},[(0,r.Uk)((0,i.zw)(`${t.createdAt.getMonth()}/${t.createdAt.getDate()}/${t.createdAt.getFullYear()}`)+" ",1),(0,r._)("p",P,(0,i.zw)(t.text),1),w,(0,r._)("button",{onClick:e=>m.deletePost(t._id)},"Delete",8,b)],40,g)))),128))])])])}var y=o(594);const _="api/posts/";class x{static getPosts(){return new Promise(((t,e)=>{y.Z.get(_).then((e=>{const o=e.data;t(o.map((t=>({...t,createdAt:new Date(t.createdAt)}))))})).catch((t=>{e(t)}))}))}static insertPost(t){return y.Z.post(_,{text:t})}static deletePost(t){return y.Z["delete"](`${_}${t}`)}}var k=x,O={name:"PostComponent",data(){return{posts:[],error:"",text:"",hover:!1}},async created(){try{this.posts=await k.getPosts()}catch(t){this.error=t.message}},methods:{async createPost(){await k.insertPost(this.text),this.$toast.success("Post created successfully",{position:"top-right",duration:2e3}),this.text="",this.posts=await k.getPosts()},async deletePost(t){await k.deletePost(t),this.$toast.success("Post successfully deleted",{position:"top-right",duration:2e3}),this.posts=await k.getPosts()}}},D=o(744);const C=(0,D.Z)(O,[["render",m],["__scopeId","data-v-3f836385"]]);var j=C,$={name:"App",components:{PostComponent:j}};const A=(0,D.Z)($,[["render",s]]);var Z=A,z=o(398);(0,n.ri)(Z).use(z.ZP,{position:"top-right",duration:1e3}).mount("#app")}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,s){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],s=t[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(o.O).every((function(t){return o.O[t](n[c])}))?n.splice(c--,1):(a=!1,s<i&&(i=s));if(a){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,r,s]}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,s,i=n[0],a=n[1],c=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(c)var u=c(o)}for(e&&e(n);l<i.length;l++)s=i[l],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(u)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(844)}));n=o.O(n)})();
//# sourceMappingURL=app.4604147a.js.map